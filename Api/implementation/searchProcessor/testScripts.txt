from searchProcessor import SearchProcessor
from collections import namedtuple
import csv
import json
req = json.loads("""{
                "start": {
                   "longitude": 22,
		   "latitude": 49.5
               },
                 "mesh_density": 50,
		"radius": 100000
                }""", object_hook=lambda d: namedtuple('X', d.keys())(*d.values()))
values = SearchProcessor.process_search(1, req)
with open("results.csv", "w", newline='') as my_csv:
	csvWriter = csv.writer(my_csv, delimiter='\t')
	csvWriter.writerows(values)